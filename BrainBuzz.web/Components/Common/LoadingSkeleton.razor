@using BrainBuzz.web.Services

<div class="loading-skeleton @CssClass">
    @if (Type == SkeletonType.Card)
    {
        <div class="skeleton-card">
            <div class="skeleton-header">
                <div class="skeleton-avatar"></div>
                <div class="skeleton-text-group">
                    <div class="skeleton-line skeleton-title"></div>
                    <div class="skeleton-line skeleton-subtitle"></div>
                </div>
            </div>
            <div class="skeleton-content">
                <div class="skeleton-line"></div>
                <div class="skeleton-line"></div>
                <div class="skeleton-line skeleton-short"></div>
            </div>
            <div class="skeleton-footer">
                <div class="skeleton-button"></div>
                <div class="skeleton-button"></div>
            </div>
        </div>
    }
    else if (Type == SkeletonType.List)
    {
        <div class="skeleton-list">
            @for (int i = 0; i < Count; i++)
            {
                <div class="skeleton-list-item">
                    <div class="skeleton-avatar"></div>
                    <div class="skeleton-text-group">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line skeleton-short"></div>
                    </div>
                </div>
            }
        </div>
    }
    else if (Type == SkeletonType.Table)
    {
        <div class="skeleton-table">
            <div class="skeleton-table-header">
                @for (int i = 0; i < Columns; i++)
                {
                    <div class="skeleton-line"></div>
                }
            </div>
            @for (int i = 0; i < Rows; i++)
            {
                <div class="skeleton-table-row">
                    @for (int j = 0; j < Columns; j++)
                    {
                        <div class="skeleton-line"></div>
                    }
                </div>
            }
        </div>
    }
    else if (Type == SkeletonType.Text)
    {
        <div class="skeleton-text">
            @for (int i = 0; i < Lines; i++)
            {
                <div class="skeleton-line @(i == Lines - 1 ? "skeleton-short" : "")"></div>
            }
        </div>
    }
    else if (Type == SkeletonType.Quiz)
    {
        <div class="skeleton-quiz">
            <div class="skeleton-quiz-header">
                <div class="skeleton-line skeleton-title"></div>
                <div class="skeleton-line skeleton-subtitle"></div>
            </div>
            <div class="skeleton-quiz-question">
                <div class="skeleton-line"></div>
                <div class="skeleton-line"></div>
                <div class="skeleton-line skeleton-short"></div>
            </div>
            <div class="skeleton-quiz-options">
                @for (int i = 0; i < 4; i++)
                {
                    <div class="skeleton-option">
                        <div class="skeleton-radio"></div>
                        <div class="skeleton-line"></div>
                    </div>
                }
            </div>
        </div>
    }
</div>

@code {
    [Parameter] public SkeletonType Type { get; set; } = SkeletonType.Card;
    [Parameter] public string CssClass { get; set; } = string.Empty;
    [Parameter] public int Count { get; set; } = 3;
    [Parameter] public int Lines { get; set; } = 3;
    [Parameter] public int Rows { get; set; } = 5;
    [Parameter] public int Columns { get; set; } = 4;

    public enum SkeletonType
    {
        Card,
        List,
        Table,
        Text,
        Quiz
    }
}

